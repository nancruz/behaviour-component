!function(t){"use strict";t.UIComponent=function(t,e){function n(t){t.forEach(function(t){var e=c.querySelectorAll("[data-ref="+t.el+"]");[].forEach.call(e,function(e){t.on.forEach(function(t){if(!this[t.handler])throw"The method "+t.handler+"is not implemented!";e.addEventListener(t.name,this[t.handler].bind(this))}.bind(this))}.bind(this))}.bind(this))}function o(t){if("object"!=typeof t)throw"The state object is not an instance of Object";return r(t)}function r(t){if(null===t||"object"!=typeof t||t.nodeType)return t;var e;if(t instanceof Array)e=[],t.forEach(function(t){e.push(r(t))});else{if(!(t instanceof Object))throw"Type not recognized for argument: "+t;e={};for(var n in t)e[n]=r(t[n])}return e}var i=null,a={},c=null,f=function(){if(i=o(t.state),!t.root)throw"The root property is not defined in the parameters object."};return f.prototype=e,f.prototype.create=function(e,o){if(!e)throw"Cannot create the the component. Missing parentSelector.";var r=document.querySelector(e);if(!r)throw"Cannot create the component. Parent element does not exists.";if(o){var i;i="string"==typeof o?document.createRange().createContextualFragment(o):o,r.appendChild(i)}if(t.root===e)c=r;else if(c=r.querySelector(t.root),!c)throw"Could not find the root element inside the parent element.";return n.call(this,t.events),this.initialize&&this.initialize(),this},f.prototype.dispose=function(t){for(;c.hasChildNodes();)c.removeChild(c.firstChild);i={},a={},t&&c.remove()},f.prototype.triggerAction=function(t){if(0==arguments.length)throw"Could not trigger an action. A name should not be supplied.";var t=arguments[0],e=[].slice.call(arguments,1);return a[t]&&a[t].forEach(function(t){t.apply(null,e)}),this},f.prototype.listenTo=function(t,e){return a[t]?a[t].push(e):a[t]=[e],this},f.prototype.getElement=function(t){var t=c.querySelector("[data-ref='"+t+"']");if(!t)throw"Could not find "+t;return t},f.prototype.getElements=function(t){var e=c.querySelectorAll("[data-ref='"+t+"']");if(!t)throw"Could not find "+t;return e},f.prototype.getState=function(){return r(i)},f.prototype.setState=function(t){if("object"!=typeof t)throw"Could not set state. Expecting a parameter of type Object";for(var e in t)i.hasOwnProperty(e)&&(i[e]=r(t[e]));return r(i)},f}}(window||{});